<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_asset_qr_label">
        <t t-call="web.html_container">
            <!-- Hilangkan margin default supaya benar-benar mulai dari atas kertas -->
            <style>
                html, body {
                    margin: 0 !important;
                    padding: 0 !important;
                    height: auto;
                }

                /* Table layout for QR codes and asset names */
                .asset-table {
                    width: 100% !important;
                    border-collapse: collapse !important;
                    margin: 0 !important;
                    padding: 0 !important;
                }

                .asset-row {
                    display: table-row !important;
                    page-break-inside: avoid !important;
                }

                .qr-cell {
                    display: table-cell !important;
                    width: 80px !important;
                    height: 80px !important;
                    padding: 5px !important;
                    vertical-align: middle !important;
                    text-align: center !important;
                }

                .asset-name-cell {
                    display: table-cell !important;
                    width: 200px !important;
                    padding: 5px 10px !important;
                    vertical-align: middle !important;
                    font-size: 14px !important;
                    font-weight: bold !important;
                    color: #333 !important;
                    background: none !important; /* Menghapus background */
                }

                .qr-item img {
                    width: 70px !important;
                    height: 70px !important;
                    border: 2px solid #007bff !important;
                    border-radius: 4px !important;
                    display: block !important;
                    margin: 0 auto !important;
                }

                /* Hindari pemisahan antara QR dan nama aset */
                .asset-row {
                    page-break-inside: avoid !important;
                }
            </style>

            <!-- Asset QR and Name Table -->
            <table class="asset-table">
                <tbody>
                    <t t-foreach="docs" t-as="doc">
                        <tr class="asset-row">
                            <td class="qr-cell">
                                <div class="qr-item">
                                    <t t-if="doc.qr_code_image">
                                        <img t-att-src="'data:image/png;base64,' + doc.qr_code_image.decode('utf-8')"/>
                                    </t>
                                </div>
                            </td>
                            <td class="asset-name-cell">
                                <t t-esc="doc.asset_name or doc.name or 'Unnamed Asset'"/>
                            </td>
                        </tr>
                    </t>
                </tbody>
            </table>
        </t>
    </template>
</odoo>
